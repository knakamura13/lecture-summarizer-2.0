We want to prove this claim that this P that we chose in our algorithm is a good pivot. How do we find this P? Well, we took these groups G1 through Gn/5, each with five elements each. And we took the median of each of these groups and then we took the median of those medians. So we took this n/5 medians of these groups, and then we recursively ran our algorithm to find the median of that subset of size n/5 and that was our P. Now what I want to do is I want to sort these groups and I want to sort them by their medians. So this has a smallest median, this has the largest median. I'm just relabelling the labels on the groups. Now this is just in the proof. The algorithm is staying the same just for the purposes of the proof as do the thought experiment where we relabel these groups. So we've relabeled these groups so that the first group has a smallest median and the last group has the largest median. Let's look at this set A pictorially, and let's look at it by groups. Here's the first group that consists of five elements. Here's the second group G2. It consists of five elements and so on. And here's the last group Gn/5, which consists of five elements. Now, it'll be important for us to consider the middle group, the group Gn/10. Now, let's sort each of these groups by smallest to largest. This will be the smallest element of this group and this will be the largest, and this will be the median. This will be the smallest, largest, median, and so on. In every group, the middle element is the median. This is just for the picture purposes. Now what does our algorithm do? It takes the median of each of these groups. Who is the median? It's the middle element right now. Our subset S is going to consist of these medians, these n/5 medians from each of the groups and our pivot is the median of this subset S of medians. It's the median of median is our pivot P. Who is the pivot P in this picture? It's the middle element, which is exactly the median of this middle group. This is P. Now, I want to prove that P is a good pivot so I want to first look at which elements are guaranteed to be at most P. Who do I know is the most P? Well, look at this subset S, P is the median of this subset so I know that everybody earlier in this subset, these guys up to and including P itself, are guaranteed to be at most P. So that's n/10 elements that are guaranteed to be at most P. Now, take this first element. Who's guaranteed to be at most it in its group, G1? Well, I assume this thing was sorted for the picture purposes. There's two elements, which are guaranteed to be smaller than that. Similarly, in the second group there's two other elements which are guaranteed to be at most this median of this group. In every group, there's two elements, which are guaranteed to be at most this median element. So what's my conclusion? My conclusion is that all of these elements in this box are guaranteed to be at most the pivot P because their medians are at most this pivot P and these elements are at most this median. What's the area of this box? How many elements are in here? Well, there's n/10 groups and in each group I got three elements. So there's at least three n/10 elements which are guaranteed to be at most P. Now look at the partition of A into these subsets: smaller, equal, and bigger than P, and look at the subset consisting of those elements strictly bigger than the pivot P. So this excludes all of those elements which are at most P. So how large is a subset? Well, I've excluded at least three n/10. So therefore, the size of this is at most 7n/10. Recall what was my definition of a good pivot? I needed to guarantee that this set is at most 3/4n, and I've shown that it's strictly smaller than most 0.7n. Now, let's look at the other side. Which elements are guaranteed to be at least P? Well, now I'm going to look at the other corner. All of these elements are guaranteed to be at least P. How many elements are here? Well, the same count 3n/10 are guaranteed to be here. So, the number of elements that are least P is at least 3n/10 and therefore, the number of elements which are strictly less than P is most 7n/10, similarly. That proves that P is a good pivot that completes the proof of the claim.