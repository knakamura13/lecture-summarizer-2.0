Let's formally define a residual network. First off, we have our input to the max-flow problem which is the flow network, the directed graph with capacities for each edge, and our residual network will be a function of the current flow. So fe is the current flow. So we'll denote the residual network as this graph G superscript f because it is a function of the current flow f. This will be a directed graph. The vertices will be the same as the flow network, but the edges will differ. So the edges will be a function of the current flow. And then these edges will also have weights. But even the actual edges that exist will be dependent on the current flow. And these might differ from the flow network or edges. For example, in the previous toy example, we saw that the flow network had an edge from a to b, but the residual network will have an edge from b to a. So how specifically do we define the edges of this residual network? Well, if there's an edge from v to w in the original flow network, and this edge has some available capacity. So, the flow along this edge is strictly smaller than its available capacity, then we add the same edge to the residual network where the capacity in this residual network is the available capacity. So it's the total capacity minus the current flow. These are, in some sense, the forward edges. These are the original type of edges we considered when we talked about available capacity network. Now, for this edge in the original flow network, if the flow is positive so there is some flow going along this edge, then we add the reverse of the edge to the residual network. Notice that this was the edge v to w and now we added the edge from w to v. This is the backward edge that we talked about earlier in the toy example. And the capacity of this backward edge is the current flow along the edge v to w so we can send most f or vw units of flow along this edge from w to v, and we send this flow from w to v by decreasing the flow along v to w. Now, since we sometimes have the forward edge and the backward edge, this is why, in our original flow network, we removed antiparallel edges. This way we're allowed to add the forward edge and the backward edge and we don't have to worry about any inequalities.