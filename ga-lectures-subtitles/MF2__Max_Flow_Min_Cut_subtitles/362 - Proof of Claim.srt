1
00:00:00,000 --> 00:00:03,505
 Let's prove this claim that for any flow f,

2
00:00:03,505 --> 00:00:05,080
 and for any s-t cut L, R,

3
00:00:05,080 --> 00:00:09,540
 the size of this flow equals the total flow out of

4
00:00:09,540 --> 00:00:14,781
 the set L minus the total flow into the set L. Let's look at the right hand side,

5
00:00:14,781 --> 00:00:16,438
 so we have the flow out of the set L,

6
00:00:16,438 --> 00:00:19,305
 minus the flow into the set L. Now,

7
00:00:19,305 --> 00:00:22,080
 the first term, the flow out of the set L,

8
00:00:22,080 --> 00:00:24,855
 that's the sum of edges of the graph,

9
00:00:24,855 --> 00:00:27,515
 where the head of the edge is in the set L,

10
00:00:27,515 --> 00:00:29,610
 and the tail of the edge is outside of

11
00:00:29,610 --> 00:00:33,165
 the set L. And we look at the flow along that edge,

12
00:00:33,165 --> 00:00:38,460
 that's the flow out of the set L. Now for the flow into the set L,

13
00:00:38,460 --> 00:00:41,280
 we're going to sum over edges W to V,

14
00:00:41,280 --> 00:00:43,615
 where W is outside the set L,

15
00:00:43,615 --> 00:00:46,005
 and V is inside the set L,

16
00:00:46,005 --> 00:00:48,243
 and we look at the flow along that edge W,

17
00:00:48,243 --> 00:00:52,850
 V. Now I've labeled these edges VW, and this one WV,

18
00:00:52,850 --> 00:00:56,760
 so that V is always the vertex in the set L. Now,

19
00:00:56,760 --> 00:00:58,530
 this captures the flow out of L,

20
00:00:58,530 --> 00:01:00,320
 and the flow into L. Now,

21
00:01:00,320 --> 00:01:01,970
 want to add an additional term,

22
00:01:01,970 --> 00:01:04,586
 so we're going to add it and subtract it that at the same time,

23
00:01:04,586 --> 00:01:06,600
 and therefore we still have equality.

24
00:01:06,600 --> 00:01:08,860
 I'm going to look those edges VW,

25
00:01:08,860 --> 00:01:10,205
 where V is in L,

26
00:01:10,205 --> 00:01:14,145
 and W is in L and I'm going to add in the flow along those edges,

27
00:01:14,145 --> 00:01:16,780
 and I'm going to subtract off the same term but I'm going to

28
00:01:16,780 --> 00:01:20,020
 label the edge by WV instead of VW.

29
00:01:20,020 --> 00:01:22,800
 But I'm going to be summing up over the same set of edges.

30
00:01:22,800 --> 00:01:26,825
 Just labeled differently. Now,take the first and the third term,

31
00:01:26,825 --> 00:01:28,485
 these are the positive terms.

32
00:01:28,485 --> 00:01:31,875
 This considers the edges from V that go to R,

33
00:01:31,875 --> 00:01:36,435
 and this considers the edges from V that go to L. So if I combine them together,

34
00:01:36,435 --> 00:01:39,435
 I have all edges out of V. This first term,

35
00:01:39,435 --> 00:01:43,605
 and this third term combined give us the sum of

36
00:01:43,605 --> 00:01:49,050
 all vertices in the set L of the total flow out of this vertex L. Similarly,

37
00:01:49,050 --> 00:01:52,050
 this term and this term give the flow into

38
00:01:52,050 --> 00:01:58,475
 the vertex V because this term gives the flow of the edges from R to V,

39
00:01:58,475 --> 00:02:01,440
 and this gives from L to V. So,

40
00:02:01,440 --> 00:02:06,565
 combined they give the total flow into V. Now let's distinguish one particular vertex.

41
00:02:06,565 --> 00:02:09,480
 The set L contains the source vertex,

42
00:02:09,480 --> 00:02:11,830
 s. What do we know about the source vertex?

43
00:02:11,830 --> 00:02:13,900
 Well, the flow in is zero.

44
00:02:13,900 --> 00:02:15,745
 So we only have the flow out of it.

45
00:02:15,745 --> 00:02:18,900
 So, let's take out s from this set L. So now we

46
00:02:18,900 --> 00:02:22,635
 have a sum of vertices V in the set L minus s,

47
00:02:22,635 --> 00:02:25,470
 and we have the flow out of this vertex V

48
00:02:25,470 --> 00:02:30,000
 minus the flow into this vertex V. We dropped the term for s,

49
00:02:30,000 --> 00:02:33,480
 so we have the flow out of s. We also dropped the term

50
00:02:33,480 --> 00:02:37,590
 for the flow into s but we said that's zero, so we can drop it.

51
00:02:37,590 --> 00:02:40,560
 Now what do you notice for all these vertices which are not s?

52
00:02:40,560 --> 00:02:43,140
 The flow out has to equal the flow in.

53
00:02:43,140 --> 00:02:46,540
 That's the definition of a valid flow, conservation of flow.

54
00:02:46,540 --> 00:02:48,424
 So these two terms are equal,

55
00:02:48,424 --> 00:02:50,085
 so this whole sum is zero,

56
00:02:50,085 --> 00:02:54,950
 and all we're left with is the total flow out of s which is the size of

57
00:02:54,950 --> 00:03:00,030
 f. The total size of this flow is equal to the flow out of s. Therefore,

58
00:03:00,030 --> 00:03:03,990
 we've shown that the size of f equals the flow out

59
00:03:03,990 --> 00:03:03,990
 of L minus a flow into L which is the claim that we wanted to prove.

