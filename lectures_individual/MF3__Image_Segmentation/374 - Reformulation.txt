Look at the sum of all the foreground and background likelihoods. So, let capital L denote the sum over all pixels of their foreground likelihood plus their background likelihood. We color our weight for a particular partition FB at weight fi for each pixel assigned to the foreground, and bj for each pixel assigned to the background. Notice, that this quantity is equal to capital L minus the sum of the pixels assigned to the foreground of their background, minus the sum of all the pixels assigned to the background of their foreground. Because, if we take the sum over the pixels assigned to the foreground of their foreground likelihood, plus sum of the pixels assigned to the background of their foreground likelihood, we get the total likelihood of all pixels for the foreground. This is the first term in this sum. Simply by summing this term with this term, we get this total likelihood of all pixels for the background. Now, if we subtract a separation penalty for separated edges, now think of this ij as an un-ordered pair. So, I don't have to write both cases, i and F, or j and B, this un-ordered pair that covers the other case, where i is in B, and j is an F. Now, to maintain equality, I want to subtract this term also from the other side. Now, what do you notice about this left hand side? Well, this is exactly our definition of the weight, W of FB. Now, we're going to define a new weight W-prime of FB, which is the sum of these three terms, and then the right hand side will be equal to L, capital L minus W-prime of FB.